<div class="container my-4">
  <div class="article-card">
    <h2 class="card-title">View Commands</h2>

    <div class="card-body">
      <div class="mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Search commands..."
          [(ngModel)]="searchQuery"
          (input)="applyFilter()"
          style="border: 1px solid #ddd; border-radius: 8px;"
        />
      </div>

      <div class="table-responsive">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Nom</th>
              <th>Prénom</th>
              <th>Adresse</th>
              <th>Téléphone</th>
              <th>Note</th>
              <th>Articles</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let command of paginatedCommands">
              <td>{{ command.nom }}</td>
              <td>{{ command.prenom }}</td>
              <td>{{ command.adresse }}</td>
              <td>{{ command.telephone }}</td>
              <td>{{ command.note }}</td>
              <td>
                <ul>
                  <li *ngFor="let article of command.articles">
                    {{ article.name }} - {{ article.price | currency }}
                  </li>
                </ul>
                <div class="font-weight-bold text-right">
                  Total: {{ command.totalPrice | currency }}
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="d-flex justify-content-between align-items-center mt-3">
        <button
          class="btn btn-primary px-4"
          [disabled]="currentPage === 1"
          (click)="changePage(currentPage - 1)"
        >
          Previous
        </button>
        <span class="font-weight-bold">Page {{ currentPage }} of {{ totalPages }}</span>
        <button
          class="btn btn-primary px-4"
          [disabled]="currentPage === totalPages"
          (click)="changePage(currentPage + 1)"
        >
          Next
        </button>
      </div>
    </div>
  </div>
</div>